/*
	Copyright (c) 2004-2008, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/book/dojo-book-0-9/introduction/licensing
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojo.fx"]){dojo._hasResource["dojo.fx"]=true;dojo.provide("dojo.fx");dojo.provide("dojo.fx.Toggler");(function(){var _1={_fire:function(_2,_3){if(this[_2]){this[_2].apply(this,_3||[]);}return this;}};var _4=function(_5){this._index=-1;this._animations=_5||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;dojo.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};dojo.extend(_4,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){dojo.disconnect(this._onAnimateCtx);dojo.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_7,_8){if(!this._current){this._current=this._animations[this._index=0];}if(!_8&&this._current.status()=="playing"){return this;}var _9=dojo.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_a=dojo.connect(this._current,"onBegin",this,function(_b){this._fire("onBegin",arguments);}),_c=dojo.connect(this._current,"onPlay",this,function(_d){this._fire("onPlay",arguments);dojo.disconnect(_9);dojo.disconnect(_a);dojo.disconnect(_c);});if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}this._onAnimateCtx=dojo.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}this._onEndCtx=dojo.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=dojo.connect(this._current,"onPause",this,function(_f){this._fire("onPause",arguments);dojo.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_10,_11){this.pause();var _12=this.duration*_10;this._current=null;dojo.some(this._animations,function(a){if(a.duration<=_12){this._current=a;return true;}_12-=a.duration;return false;});if(this._current){this._current.gotoPercent(_12/_current.duration,_11);}return this;},stop:function(_14){if(this._current){if(_14){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=dojo.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);dojo.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){dojo.disconnect(this._onAnimateCtx);}if(this._onEndCtx){dojo.disconnect(this._onEndCtx);}}});dojo.extend(_4,_1);dojo.fx.chain=function(_17){return new _4(_17);};var _18=function(_19){this._animations=_19||[];this._connects=[];this._finished=0;this.duration=0;dojo.forEach(_19,function(a){var _1b=a.duration;if(a.delay){_1b+=a.delay;}if(this.duration<_1b){this.duration=_1b;}this._connects.push(dojo.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new dojo._Animation({curve:[0,1],duration:this.duration});dojo.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop"],function(evt){this._connects.push(dojo.connect(this._pseudoAnimation,evt,dojo.hitch(this,"_fire",evt)));},this);};dojo.extend(_18,{_doAction:function(_1d,_1e){dojo.forEach(this._animations,function(a){a[_1d].apply(a,_1e);});return this;},_onEnd:function(){if(++this._finished==this._animations.length){this._fire("onEnd");}},_call:function(_20,_21){var t=this._pseudoAnimation;t[_20].apply(t,_21);},play:function(_23,_24){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_25,_26){var ms=this.duration*_25;dojo.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_26);});this._call("gotoProcent",arguments);return this;},stop:function(_29){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){dojo.forEach(this._connects,dojo.disconnect);}});dojo.extend(_18,_1);dojo.fx.combine=function(_2a){return new _18(_2a);};})();dojo.declare("dojo.fx.Toggler",null,{constructor:function(_2b){var _t=this;dojo.mixin(_t,_2b);_t.node=_2b.node;_t._showArgs=dojo.mixin({},_2b);_t._showArgs.node=_t.node;_t._showArgs.duration=_t.showDuration;_t.showAnim=_t.showFunc(_t._showArgs);_t._hideArgs=dojo.mixin({},_2b);_t._hideArgs.node=_t.node;_t._hideArgs.duration=_t.hideDuration;_t.hideAnim=_t.hideFunc(_t._hideArgs);dojo.connect(_t.showAnim,"beforeBegin",dojo.hitch(_t.hideAnim,"stop",true));dojo.connect(_t.hideAnim,"beforeBegin",dojo.hitch(_t.showAnim,"stop",true));},node:null,showFunc:dojo.fadeIn,hideFunc:dojo.fadeOut,showDuration:200,hideDuration:200,show:function(_2d){return this.showAnim.play(_2d||0);},hide:function(_2e){return this.hideAnim.play(_2e||0);}});dojo.fx.wipeIn=function(_2f){_2f.node=dojo.byId(_2f.node);var _30=_2f.node,s=_30.style;var _32=dojo.animateProperty(dojo.mixin({properties:{height:{start:function(){s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _33=dojo.style(_30,"height");return Math.max(_33,1);}},end:function(){return _30.scrollHeight;}}}},_2f));dojo.connect(_32,"onEnd",function(){s.height="auto";});return _32;};dojo.fx.wipeOut=function(_34){var _35=_34.node=dojo.byId(_34.node);var s=_35.style;var _37=dojo.animateProperty(dojo.mixin({properties:{height:{end:1}}},_34));dojo.connect(_37,"beforeBegin",function(){s.overflow="hidden";s.display="";});dojo.connect(_37,"onEnd",function(){s.height="auto";s.display="none";});return _37;};dojo.fx.slideTo=function(_38){var _39=(_38.node=dojo.byId(_38.node));var top=null;var _3b=null;var _3c=(function(n){return function(){var cs=dojo.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);_3b=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=dojo.coords(n,true);top=ret.y;_3b=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=_3b+"px";}};})(_39);_3c();var _41=dojo.animateProperty(dojo.mixin({properties:{top:{end:_38.top||0},left:{end:_38.left||0}}},_38));dojo.connect(_41,"beforeBegin",_41,_3c);return _41;};}if(!dojo._hasResource["dijit._base.focus"]){dojo._hasResource["dijit._base.focus"]=true;dojo.provide("dijit._base.focus");dojo.mixin(dijit,{_curFocus:null,_prevFocus:null,isCollapsed:function(){var _42=dojo.global;var _43=dojo.doc;if(_43.selection){return !_43.selection.createRange().text;}else{var _44=_42.getSelection();if(dojo.isString(_44)){return !_44;}else{return _44.isCollapsed||!_44.toString();}}},getBookmark:function(){var _45,_46=dojo.doc.selection;if(_46){var _47=_46.createRange();if(_46.type.toUpperCase()=="CONTROL"){if(_47.length){_45=[];var i=0,len=_47.length;while(i<len){_45.push(_47.item(i++));}}else{_45=null;}}else{_45=_47.getBookmark();}}else{if(window.getSelection){_46=dojo.global.getSelection();if(_46){_47=_46.getRangeAt(0);_45=_47.cloneRange();}}else{console.warn("No idea how to store the current selection for this browser!");}}return _45;},moveToBookmark:function(_4a){var _4b=dojo.doc;if(_4b.selection){var _4c;if(dojo.isArray(_4a)){_4c=_4b.body.createControlRange();dojo.forEach(_4a,"range.addElement(item)");}else{_4c=_4b.selection.createRange();_4c.moveToBookmark(_4a);}_4c.select();}else{var _4d=dojo.global.getSelection&&dojo.global.getSelection();if(_4d&&_4d.removeAllRanges){_4d.removeAllRanges();_4d.addRange(_4a);}else{console.warn("No idea how to restore selection for this browser!");}}},getFocus:function(_4e,_4f){return {node:_4e&&dojo.isDescendant(dijit._curFocus,_4e.domNode)?dijit._prevFocus:dijit._curFocus,bookmark:!dojo.withGlobal(_4f||dojo.global,dijit.isCollapsed)?dojo.withGlobal(_4f||dojo.global,dijit.getBookmark):null,openedForWindow:_4f};},focus:function(_50){if(!_50){return;}var _51="node" in _50?_50.node:_50,_52=_50.bookmark,_53=_50.openedForWindow;if(_51){var _54=(_51.tagName.toLowerCase()=="iframe")?_51.contentWindow:_51;if(_54&&_54.focus){try{_54.focus();}catch(e){}}dijit._onFocusNode(_51);}if(_52&&dojo.withGlobal(_53||dojo.global,dijit.isCollapsed)){if(_53){_53.focus();}try{dojo.withGlobal(_53||dojo.global,dijit.moveToBookmark,null,[_52]);}catch(e){}}},_activeStack:[],registerWin:function(_55){if(!_55){_55=window;}dojo.connect(_55.document,"onmousedown",function(evt){dijit._justMouseDowned=true;setTimeout(function(){dijit._justMouseDowned=false;},0);dijit._onTouchNode(evt.target||evt.srcElement);});var _57=_55.document.body||_55.document.getElementsByTagName("body")[0];if(_57){if(dojo.isIE){_57.attachEvent("onactivate",function(evt){if(evt.srcElement.tagName.toLowerCase()!="body"){dijit._onFocusNode(evt.srcElement);}});_57.attachEvent("ondeactivate",function(evt){dijit._onBlurNode(evt.srcElement);});}else{_57.addEventListener("focus",function(evt){dijit._onFocusNode(evt.target);},true);_57.addEventListener("blur",function(evt){dijit._onBlurNode(evt.target);},true);}}_57=null;},_onBlurNode:function(_5c){dijit._prevFocus=dijit._curFocus;dijit._curFocus=null;if(dijit._justMouseDowned){return;}if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);}dijit._clearActiveWidgetsTimer=setTimeout(function(){delete dijit._clearActiveWidgetsTimer;dijit._setStack([]);dijit._prevFocus=null;},100);},_onTouchNode:function(_5d){if(dijit._clearActiveWidgetsTimer){clearTimeout(dijit._clearActiveWidgetsTimer);delete dijit._clearActiveWidgetsTimer;}var _5e=[];try{while(_5d){if(_5d.dijitPopupParent){_5d=dijit.byId(_5d.dijitPopupParent).domNode;}else{if(_5d.tagName&&_5d.tagName.toLowerCase()=="body"){if(_5d===dojo.body()){break;}_5d=dijit.getDocumentWindow(_5d.ownerDocument).frameElement;}else{var id=_5d.getAttribute&&_5d.getAttribute("widgetId");if(id){_5e.unshift(id);}_5d=_5d.parentNode;}}}}catch(e){}dijit._setStack(_5e);},_onFocusNode:function(_60){if(_60&&_60.tagName&&_60.tagName.toLowerCase()=="body"){return;}dijit._onTouchNode(_60);if(_60==dijit._curFocus){return;}if(dijit._curFocus){dijit._prevFocus=dijit._curFocus;}dijit._curFocus=_60;dojo.publish("focusNode",[_60]);},_setStack:function(_61){var _62=dijit._activeStack;dijit._activeStack=_61;for(var _63=0;_63<Math.min(_62.length,_61.length);_63++){if(_62[_63]!=_61[_63]){break;}}for(var i=_62.length-1;i>=_63;i--){var _65=dijit.byId(_62[i]);if(_65){_65._focused=false;_65._hasBeenBlurred=true;if(_65._onBlur){_65._onBlur();}if(_65._setStateClass){_65._setStateClass();}dojo.publish("widgetBlur",[_65]);}}for(i=_63;i<_61.length;i++){_65=dijit.byId(_61[i]);if(_65){_65._focused=true;if(_65._onFocus){_65._onFocus();}if(_65._setStateClass){_65._setStateClass();}dojo.publish("widgetFocus",[_65]);}}}});dojo.addOnLoad(dijit.registerWin);}if(!dojo._hasResource["dijit._base.manager"]){dojo._hasResource["dijit._base.manager"]=true;dojo.provide("dijit._base.manager");dojo.declare("dijit.WidgetSet",null,{constructor:function(){this._hash={};},add:function(_66){if(this._hash[_66.id]){throw new Error("Tried to register widget with id=="+_66.id+" but that id is already registered");}this._hash[_66.id]=_66;},remove:function(id){delete this._hash[id];},forEach:function(_68){for(var id in this._hash){_68(this._hash[id]);}},filter:function(_6a){var res=new dijit.WidgetSet();this.forEach(function(_6c){if(_6a(_6c)){res.add(_6c);}});return res;},byId:function(id){return this._hash[id];},byClass:function(cls){return this.filter(function(_6f){return _6f.declaredClass==cls;});}});dijit.registry=new dijit.WidgetSet();dijit._widgetTypeCtr={};dijit.getUniqueId=function(_70){var id;do{id=_70+"_"+(_70 in dijit._widgetTypeCtr?++dijit._widgetTypeCtr[_70]:dijit._widgetTypeCtr[_70]=0);}while(dijit.byId(id));return id;};if(dojo.isIE){dojo.addOnUnload(function(){dijit.registry.forEach(function(_72){_72.destroy();});});}dijit.byId=function(id){return (dojo.isString(id))?dijit.registry.byId(id):id;};dijit.byNode=function(_74){return dijit.registry.byId(_74.getAttribute("widgetId"));};dijit.getEnclosingWidget=function(_75){while(_75){if(_75.getAttribute&&_75.getAttribute("widgetId")){return dijit.registry.byId(_75.getAttribute("widgetId"));}_75=_75.parentNode;}return null;};dijit._tabElements={area:true,button:true,input:true,object:true,select:true,textarea:true};dijit._isElementShown=function(_76){var _77=dojo.style(_76);return (_77.visibility!="hidden")&&(_77.visibility!="collapsed")&&(_77.display!="none");};dijit.isTabNavigable=function(_78){if(dojo.hasAttr(_78,"disabled")){return false;}var _79=dojo.hasAttr(_78,"tabindex");var _7a=dojo.attr(_78,"tabindex");if(_79&&_7a>=0){return true;}var _7b=_78.nodeName.toLowerCase();if(((_7b=="a"&&dojo.hasAttr(_78,"href"))||dijit._tabElements[_7b])&&(!_79||_7a>=0)){return true;}return false;};dijit._getTabNavigable=function(_7c){var _7d,_7e,_7f,_80,_81,_82;var _83=function(_84){dojo.query("> *",_84).forEach(function(_85){var _86=dijit._isElementShown(_85);if(_86&&dijit.isTabNavigable(_85)){var _87=dojo.attr(_85,"tabindex");if(!dojo.hasAttr(_85,"tabindex")||_87==0){if(!_7d){_7d=_85;}_7e=_85;}else{if(_87>0){if(!_7f||_87<_80){_80=_87;_7f=_85;}if(!_81||_87>=_82){_82=_87;_81=_85;}}}}if(_86){_83(_85);}});};if(dijit._isElementShown(_7c)){_83(_7c);}return {first:_7d,last:_7e,lowest:_7f,highest:_81};};dijit.getFirstInTabbingOrder=function(_88){var _89=dijit._getTabNavigable(dojo.byId(_88));return _89.lowest?_89.lowest:_89.first;};dijit.getLastInTabbingOrder=function(_8a){var _8b=dijit._getTabNavigable(dojo.byId(_8a));return _8b.last?_8b.last:_8b.highest;};}if(!dojo._hasResource["dijit._base.place"]){dojo._hasResource["dijit._base.place"]=true;dojo.provide("dijit._base.place");dijit.getViewport=function(){var _8c=dojo.global;var _8d=dojo.doc;var w=0,h=0;var de=_8d.documentElement;var dew=de.clientWidth,deh=de.clientHeight;if(dojo.isMozilla){var _93,_94,_95,_96;var dbw=_8d.body.clientWidth;if(dbw>dew){_93=dew;_95=dbw;}else{_95=dew;_93=dbw;}var dbh=_8d.body.clientHeight;if(dbh>deh){_94=deh;_96=dbh;}else{_96=deh;_94=dbh;}w=(_95>_8c.innerWidth)?_93:_95;h=(_96>_8c.innerHeight)?_94:_96;}else{if(!dojo.isOpera&&_8c.innerWidth){w=_8c.innerWidth;h=_8c.innerHeight;}else{if(dojo.isIE&&de&&deh){w=dew;h=deh;}else{if(dojo.body().clientWidth){w=dojo.body().clientWidth;h=dojo.body().clientHeight;}}}}var _99=dojo._docScroll();return {w:w,h:h,l:_99.x,t:_99.y};};dijit.placeOnScreen=function(_9a,pos,_9c,_9d){var _9e=dojo.map(_9c,function(_9f){return {corner:_9f,pos:pos};});return dijit._place(_9a,_9e);};dijit._place=function(_a0,_a1,_a2){var _a3=dijit.getViewport();if(!_a0.parentNode||String(_a0.parentNode.tagName).toLowerCase()!="body"){dojo.body().appendChild(_a0);}var _a4=null;dojo.some(_a1,function(_a5){var _a6=_a5.corner;var pos=_a5.pos;if(_a2){_a2(_a0,_a5.aroundCorner,_a6);}var _a8=_a0.style;var _a9=_a8.display;var _aa=_a8.visibility;_a8.visibility="hidden";_a8.display="";var mb=dojo.marginBox(_a0);_a8.display=_a9;_a8.visibility=_aa;var _ac=(_a6.charAt(1)=="L"?pos.x:Math.max(_a3.l,pos.x-mb.w)),_ad=(_a6.charAt(0)=="T"?pos.y:Math.max(_a3.t,pos.y-mb.h)),_ae=(_a6.charAt(1)=="L"?Math.min(_a3.l+_a3.w,_ac+mb.w):pos.x),_af=(_a6.charAt(0)=="T"?Math.min(_a3.t+_a3.h,_ad+mb.h):pos.y),_b0=_ae-_ac,_b1=_af-_ad,_b2=(mb.w-_b0)+(mb.h-_b1);if(_a4==null||_b2<_a4.overflow){_a4={corner:_a6,aroundCorner:_a5.aroundCorner,x:_ac,y:_ad,w:_b0,h:_b1,overflow:_b2};}return !_b2;});_a0.style.left=_a4.x+"px";_a0.style.top=_a4.y+"px";if(_a4.overflow&&_a2){_a2(_a0,_a4.aroundCorner,_a4.corner);}return _a4;};dijit.placeOnScreenAroundElement=function(_b3,_b4,_b5,_b6){_b4=dojo.byId(_b4);var _b7=_b4.style.display;_b4.style.display="";var _b8=_b4.offsetWidth;var _b9=_b4.offsetHeight;var _ba=dojo.coords(_b4,true);_b4.style.display=_b7;var _bb=[];for(var _bc in _b5){_bb.push({aroundCorner:_bc,corner:_b5[_bc],pos:{x:_ba.x+(_bc.charAt(1)=="L"?0:_b8),y:_ba.y+(_bc.charAt(0)=="T"?0:_b9)}});}return dijit._place(_b3,_bb,_b6);};}if(!dojo._hasResource["dijit._base.window"]){dojo._hasResource["dijit._base.window"]=true;dojo.provide("dijit._base.window");dijit.getDocumentWindow=function(doc){if(dojo.isSafari&&!doc._parentWindow){var fix=function(win){win.document._parentWindow=win;for(var i=0;i<win.frames.length;i++){fix(win.frames[i]);}};fix(window.top);}if(dojo.isIE&&window!==document.parentWindow&&!doc._parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc._parentWindow||doc.parentWindow||doc.defaultView;};}if(!dojo._hasResource["dijit._base.popup"]){dojo._hasResource["dijit._base.popup"]=true;dojo.provide("dijit._base.popup");dijit.popup=new function(){var _c2=[],_c3=1000,_c4=1;this.prepare=function(_c5){dojo.body().appendChild(_c5);var s=_c5.style;if(s.display=="none"){s.display="";}s.visibility="hidden";s.position="absolute";s.top="-9999px";};this.open=function(_c7){var _c8=_c7.popup,_c9=_c7.orient||{"BL":"TL","TL":"BL"},_ca=_c7.around,id=(_c7.around&&_c7.around.id)?(_c7.around.id+"_dropdown"):("popup_"+_c4++);var _cc=dojo.doc.createElement("div");dijit.setWaiRole(_cc,"presentation");_cc.id=id;_cc.className="dijitPopup";_cc.style.zIndex=_c3+_c2.length;_cc.style.visibility="hidden";if(_c7.parent){_cc.dijitPopupParent=_c7.parent.id;}dojo.body().appendChild(_cc);var s=_c8.domNode.style;s.display="";s.visibility="";s.position="";_cc.appendChild(_c8.domNode);var _ce=new dijit.BackgroundIframe(_cc);var _cf=_ca?dijit.placeOnScreenAroundElement(_cc,_ca,_c9,_c8.orient?dojo.hitch(_c8,"orient"):null):dijit.placeOnScreen(_cc,_c7,_c9=="R"?["TR","BR","TL","BL"]:["TL","BL","TR","BR"]);_cc.style.visibility="visible";var _d0=[];var _d1=function(){for(var pi=_c2.length-1;pi>0&&_c2[pi].parent===_c2[pi-1].widget;pi--){}return _c2[pi];};_d0.push(dojo.connect(_cc,"onkeypress",this,function(evt){if(evt.keyCode==dojo.keys.ESCAPE&&_c7.onCancel){dojo.stopEvent(evt);_c7.onCancel();}else{if(evt.keyCode==dojo.keys.TAB){dojo.stopEvent(evt);var _d4=_d1();if(_d4&&_d4.onCancel){_d4.onCancel();}}}}));if(_c8.onCancel){_d0.push(dojo.connect(_c8,"onCancel",null,_c7.onCancel));}_d0.push(dojo.connect(_c8,_c8.onExecute?"onExecute":"onChange",null,function(){var _d5=_d1();if(_d5&&_d5.onExecute){_d5.onExecute();}}));_c2.push({wrapper:_cc,iframe:_ce,widget:_c8,parent:_c7.parent,onExecute:_c7.onExecute,onCancel:_c7.onCancel,onClose:_c7.onClose,handlers:_d0});if(_c8.onOpen){_c8.onOpen(_cf);}return _cf;};this.close=function(_d6){while(dojo.some(_c2,function(_d7){return _d7.widget==_d6;})){var top=_c2.pop(),_d9=top.wrapper,_da=top.iframe,_db=top.widget,_dc=top.onClose;if(_db.onClose){_db.onClose();}dojo.forEach(top.handlers,dojo.disconnect);if(!_db||!_db.domNode){return;}this.prepare(_db.domNode);_da.destroy();dojo._destroyElement(_d9);if(_dc){_dc();}}};}();dijit._frames=new function(){var _dd=[];this.pop=function(){var _de;if(_dd.length){_de=_dd.pop();_de.style.display="";}else{if(dojo.isIE){var _df="<iframe src='javascript:\"\"'"+" style='position: absolute; left: 0px; top: 0px;"+"z-index: -1; filter:Alpha(Opacity=\"0\");'>";_de=dojo.doc.createElement(_df);}else{_de=dojo.doc.createElement("iframe");_de.src="javascript:\"\"";_de.className="dijitBackgroundIframe";}_de.tabIndex=-1;dojo.body().appendChild(_de);}return _de;};this.push=function(_e0){_e0.style.display="";if(dojo.isIE){_e0.style.removeExpression("width");_e0.style.removeExpression("height");}_dd.push(_e0);};}();if(dojo.isIE&&dojo.isIE<7){dojo.addOnLoad(function(){var f=dijit._frames;dojo.forEach([f.pop()],f.push);});}dijit.BackgroundIframe=function(_e2){if(!_e2.id){throw new Error("no id");}if((dojo.isIE&&dojo.isIE<7)||(dojo.isFF&&dojo.isFF<3&&dojo.hasClass(dojo.body(),"dijit_a11y"))){var _e3=dijit._frames.pop();_e2.appendChild(_e3);if(dojo.isIE){_e3.style.setExpression("width",dojo._scopeName+".doc.getElementById('"+_e2.id+"').offsetWidth");_e3.style.setExpression("height",dojo._scopeName+".doc.getElementById('"+_e2.id+"').offsetHeight");}this.iframe=_e3;}};dojo.extend(dijit.BackgroundIframe,{destroy:function(){if(this.iframe){dijit._frames.push(this.iframe);delete this.iframe;}}});}if(!dojo._hasResource["dijit._base.scroll"]){dojo._hasResource["dijit._base.scroll"]=true;dojo.provide("dijit._base.scroll");dijit.scrollIntoView=function(_e4){if(dojo.isMozilla){_e4.scrollIntoView(false);}else{var _e5=_e4.parentNode;var _e6=_e5.scrollTop+dojo.marginBox(_e5).h;var _e7=_e4.offsetTop+dojo.marginBox(_e4).h;if(_e6<_e7){_e5.scrollTop+=(_e7-_e6);}else{if(_e5.scrollTop>_e4.offsetTop){_e5.scrollTop-=(_e5.scrollTop-_e4.offsetTop);}}}};}if(!dojo._hasResource["dijit._base.sniff"]){dojo._hasResource["dijit._base.sniff"]=true;dojo.provide("dijit._base.sniff");(function(){var d=dojo;var ie=d.isIE;var _ea=d.isOpera;var maj=Math.floor;var ff=d.isFF;var _ed={dj_ie:ie,dj_ie6:maj(ie)==6,dj_ie7:maj(ie)==7,dj_iequirks:ie&&d.isQuirks,dj_opera:_ea,dj_opera8:maj(_ea)==8,dj_opera9:maj(_ea)==9,dj_khtml:d.isKhtml,dj_safari:d.isSafari,dj_gecko:d.isMozilla,dj_ff2:maj(ff)==2};for(var p in _ed){if(_ed[p]){var _ef=dojo.doc.documentElement;if(_ef.className){_ef.className+=" "+p;}else{_ef.className=p;}}}})();}if(!dojo._hasResource["dijit._base.bidi"]){dojo._hasResource["dijit._base.bidi"]=true;dojo.provide("dijit._base.bidi");dojo.addOnLoad(function(){if(!dojo._isBodyLtr()){dojo.addClass(dojo.body(),"dijitRtl");}});}if(!dojo._hasResource["dijit._base.typematic"]){dojo._hasResource["dijit._base.typematic"]=true;dojo.provide("dijit._base.typematic");dijit.typematic={_fireEventAndReload:function(){this._timer=null;this._callback(++this._count,this._node,this._evt);this._currentTimeout=(this._currentTimeout<0)?this._initialDelay:((this._subsequentDelay>1)?this._subsequentDelay:Math.round(this._currentTimeout*this._subsequentDelay));this._timer=setTimeout(dojo.hitch(this,"_fireEventAndReload"),this._currentTimeout);},trigger:function(evt,_f1,_f2,_f3,obj,_f5,_f6){if(obj!=this._obj){this.stop();this._initialDelay=_f6||500;this._subsequentDelay=_f5||0.9;this._obj=obj;this._evt=evt;this._node=_f2;this._currentTimeout=-1;this._count=-1;this._callback=dojo.hitch(_f1,_f3);this._fireEventAndReload();}},stop:function(){if(this._timer){clearTimeout(this._timer);this._timer=null;}if(this._obj){this._callback(-1,this._node,this._evt);this._obj=null;}},addKeyListener:function(_f7,_f8,_f9,_fa,_fb,_fc){return [dojo.connect(_f7,"onkeypress",this,function(evt){if(evt.keyCode==_f8.keyCode&&(!_f8.charCode||_f8.charCode==evt.charCode)&&(_f8.ctrlKey===undefined||_f8.ctrlKey==evt.ctrlKey)&&(_f8.altKey===undefined||_f8.altKey==evt.ctrlKey)&&(_f8.shiftKey===undefined||_f8.shiftKey==evt.ctrlKey)){dojo.stopEvent(evt);dijit.typematic.trigger(_f8,_f9,_f7,_fa,_f8,_fb,_fc);}else{if(dijit.typematic._obj==_f8){dijit.typematic.stop();}}}),dojo.connect(_f7,"onkeyup",this,function(evt){if(dijit.typematic._obj==_f8){dijit.typematic.stop();}})];},addMouseListener:function(_ff,_100,_101,_102,_103){var dc=dojo.connect;return [dc(_ff,"mousedown",this,function(evt){dojo.stopEvent(evt);dijit.typematic.trigger(evt,_100,_ff,_101,_ff,_102,_103);}),dc(_ff,"mouseup",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_ff,"mouseout",this,function(evt){dojo.stopEvent(evt);dijit.typematic.stop();}),dc(_ff,"mousemove",this,function(evt){dojo.stopEvent(evt);}),dc(_ff,"dblclick",this,function(evt){dojo.stopEvent(evt);if(dojo.isIE){dijit.typematic.trigger(evt,_100,_ff,_101,_ff,_102,_103);setTimeout(dojo.hitch(this,dijit.typematic.stop),50);}})];},addListener:function(_10a,_10b,_10c,_10d,_10e,_10f,_110){return this.addKeyListener(_10b,_10c,_10d,_10e,_10f,_110).concat(this.addMouseListener(_10a,_10d,_10e,_10f,_110));}};}if(!dojo._hasResource["dijit._base.wai"]){dojo._hasResource["dijit._base.wai"]=true;dojo.provide("dijit._base.wai");dijit.wai={onload:function(){var div=dojo.doc.createElement("div");div.id="a11yTestNode";div.style.cssText="border: 1px solid;"+"border-color:red green;"+"position: absolute;"+"height: 5px;"+"top: -999px;"+"background-image: url(\""+dojo.moduleUrl("dojo","resources/blank.gif")+"\");";dojo.body().appendChild(div);var cs=dojo.getComputedStyle(div);if(cs){var _113=cs.backgroundImage;var _114=(cs.borderTopColor==cs.borderRightColor)||(_113!=null&&(_113=="none"||_113=="url(invalid-url:)"));dojo[_114?"addClass":"removeClass"](dojo.body(),"dijit_a11y");dojo.body().removeChild(div);}}};if(dojo.isIE||dojo.isMoz){dojo._loaders.unshift(dijit.wai.onload);}dojo.mixin(dijit,{hasWaiRole:function(elem){return elem.hasAttribute?elem.hasAttribute("role"):!!elem.getAttribute("role");},getWaiRole:function(elem){var _117=elem.getAttribute("role");if(_117){var _118=_117.indexOf(":");return _118==-1?_117:_117.substring(_118+1);}else{return "";}},setWaiRole:function(elem,role){elem.setAttribute("role",(dojo.isFF&&dojo.isFF<3)?"wairole:"+role:role);},removeWaiRole:function(elem){elem.removeAttribute("role");},hasWaiState:function(elem,_11d){if(dojo.isFF&&dojo.isFF<3){return elem.hasAttributeNS("http://www.w3.org/2005/07/aaa",_11d);}else{return elem.hasAttribute?elem.hasAttribute("aria-"+_11d):!!elem.getAttribute("aria-"+_11d);}},getWaiState:function(elem,_11f){if(dojo.isFF&&dojo.isFF<3){return elem.getAttributeNS("http://www.w3.org/2005/07/aaa",_11f);}else{var _120=elem.getAttribute("aria-"+_11f);return _120?_120:"";}},setWaiState:function(elem,_122,_123){if(dojo.isFF&&dojo.isFF<3){elem.setAttributeNS("http://www.w3.org/2005/07/aaa","aaa:"+_122,_123);}else{elem.setAttribute("aria-"+_122,_123);}},removeWaiState:function(elem,_125){if(dojo.isFF&&dojo.isFF<3){elem.removeAttributeNS("http://www.w3.org/2005/07/aaa",_125);}else{elem.removeAttribute("aria-"+_125);}}});}if(!dojo._hasResource["dijit._base"]){dojo._hasResource["dijit._base"]=true;dojo.provide("dijit._base");if(dojo.isSafari){dojo.connect(window,"load",function(){window.resizeBy(1,0);setTimeout(function(){window.resizeBy(-1,0);},10);});}}if(!dojo._hasResource["dijit._Widget"]){dojo._hasResource["dijit._Widget"]=true;dojo.provide("dijit._Widget");dojo.require("dijit._base");dojo.declare("dijit._Widget",null,{id:"",lang:"",dir:"","class":"",style:"",title:"",srcNodeRef:null,domNode:null,attributeMap:{id:"",dir:"",lang:"","class":"",style:"",title:""},postscript:function(_126,_127){this.create(_126,_127);},create:function(_128,_129){this.srcNodeRef=dojo.byId(_129);this._connects=[];this._attaches=[];if(this.srcNodeRef&&(typeof this.srcNodeRef.id=="string")){this.id=this.srcNodeRef.id;}if(_128){this.params=_128;dojo.mixin(this,_128);}this.postMixInProperties();if(!this.id){this.id=dijit.getUniqueId(this.declaredClass.replace(/\./g,"_"));}dijit.registry.add(this);this.buildRendering();if(this.domNode){for(var attr in this.attributeMap){var _12b=this[attr];if(typeof _12b!="object"&&((_12b!==""&&_12b!==false)||(_128&&_128[attr]))){this.setAttribute(attr,_12b);}}}if(this.domNode){this.domNode.setAttribute("widgetId",this.id);}this.postCreate();if(this.srcNodeRef&&!this.srcNodeRef.parentNode){delete this.srcNodeRef;}},postMixInProperties:function(){},buildRendering:function(){this.domNode=this.srcNodeRef||dojo.doc.createElement("div");},postCreate:function(){},startup:function(){this._started=true;},destroyRecursive:function(_12c){this.destroyDescendants();this.destroy();},destroy:function(_12d){this.uninitialize();dojo.forEach(this._connects,function(_12e){dojo.forEach(_12e,dojo.disconnect);});dojo.forEach(this._supportingWidgets||[],function(w){w.destroy();});this.destroyRendering(_12d);dijit.registry.remove(this.id);},destroyRendering:function(_130){if(this.bgIframe){this.bgIframe.destroy();delete this.bgIframe;}if(this.domNode){dojo._destroyElement(this.domNode);delete this.domNode;}if(this.srcNodeRef){dojo._destroyElement(this.srcNodeRef);delete this.srcNodeRef;}},destroyDescendants:function(){dojo.forEach(this.getDescendants(),function(_131){_131.destroy();});},uninitialize:function(){return false;},onFocus:function(){},onBlur:function(){},_onFocus:function(e){this.onFocus();},_onBlur:function(){this.onBlur();},setAttribute:function(attr,_134){var _135=this[this.attributeMap[attr]||"domNode"];this[attr]=_134;switch(attr){case "class":dojo.addClass(_135,_134);break;case "style":if(_135.style.cssText){_135.style.cssText+="; "+_134;}else{_135.style.cssText=_134;}break;default:if(/^on[A-Z]/.test(attr)){attr=attr.toLowerCase();}if(typeof _134=="function"){_134=dojo.hitch(this,_134);}dojo.attr(_135,attr,_134);}},toString:function(){return "[Widget "+this.declaredClass+", "+(this.id||"NO ID")+"]";},getDescendants:function(){if(this.containerNode){var list=dojo.query("[widgetId]",this.containerNode);return list.map(dijit.byNode);}else{return [];}},nodesWithKeyClick:["input","button"],connect:function(obj,_138,_139){var _13a=[];if(_138=="ondijitclick"){if(!this.nodesWithKeyClick[obj.nodeName]){_13a.push(dojo.connect(obj,"onkeydown",this,function(e){if(e.keyCode==dojo.keys.ENTER){return (dojo.isString(_139))?this[_139](e):_139.call(this,e);}else{if(e.keyCode==dojo.keys.SPACE){dojo.stopEvent(e);}}}));_13a.push(dojo.connect(obj,"onkeyup",this,function(e){if(e.keyCode==dojo.keys.SPACE){return dojo.isString(_139)?this[_139](e):_139.call(this,e);}}));}_138="onclick";}_13a.push(dojo.connect(obj,_138,this,_139));this._connects.push(_13a);return _13a;},disconnect:function(_13d){for(var i=0;i<this._connects.length;i++){if(this._connects[i]==_13d){dojo.forEach(_13d,dojo.disconnect);this._connects.splice(i,1);return;}}},isLeftToRight:function(){if(!("_ltr" in this)){this._ltr=dojo.getComputedStyle(this.domNode).direction!="rtl";}return this._ltr;},isFocusable:function(){return this.focus&&(dojo.style(this.domNode,"display")!="none");}});}if(!dojo._hasResource["dojo.string"]){dojo._hasResource["dojo.string"]=true;dojo.provide("dojo.string");dojo.string.pad=function(text,size,ch,end){var out=String(text);if(!ch){ch="0";}while(out.length<size){if(end){out+=ch;}else{out=ch+out;}}return out;};dojo.string.substitute=function(_144,map,_146,_147){return _144.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_148,key,_14a){var _14b=dojo.getObject(key,false,map);if(_14a){_14b=dojo.getObject(_14a,false,_147)(_14b);}if(_146){_14b=_146(_14b,key);}return _14b.toString();});};dojo.string.trim=function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};}if(!dojo._hasResource["dojo.date.stamp"]){dojo._hasResource["dojo.date.stamp"]=true;dojo.provide("dojo.date.stamp");dojo.date.stamp.fromISOString=function(_14e,_14f){if(!dojo.date.stamp._isoRegExp){dojo.date.stamp._isoRegExp=/^(?:(\d{4})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(.\d+)?)?((?:[+-](\d{2}):(\d{2}))|Z)?)?$/;}var _150=dojo.date.stamp._isoRegExp.exec(_14e);var _151=null;if(_150){_150.shift();if(_150[1]){_150[1]--;}if(_150[6]){_150[6]*=1000;}if(_14f){_14f=new Date(_14f);dojo.map(["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],function(prop){return _14f["get"+prop]();}).forEach(function(_153,_154){if(_150[_154]===undefined){_150[_154]=_153;}});}_151=new Date(_150[0]||1970,_150[1]||0,_150[2]||1,_150[3]||0,_150[4]||0,_150[5]||0,_150[6]||0);var _155=0;var _156=_150[7]&&_150[7].charAt(0);if(_156!="Z"){_155=((_150[8]||0)*60)+(Number(_150[9])||0);if(_156!="-"){_155*=-1;}}if(_156){_155-=_151.getTimezoneOffset();}if(_155){_151.setTime(_151.getTime()+_155*60000);}}return _151;};dojo.date.stamp.toISOString=function(_157,_158){var _=function(n){return (n<10)?"0"+n:n;};_158=_158||{};var _15b=[];var _15c=_158.zulu?"getUTC":"get";var date="";if(_158.selector!="time"){var year=_157[_15c+"FullYear"]();date=["0000".substr((year+"").length)+year,_(_157[_15c+"Month"]()+1),_(_157[_15c+"Date"]())].join("-");}_15b.push(date);if(_158.selector!="date"){var time=[_(_157[_15c+"Hours"]()),_(_157[_15c+"Minutes"]()),_(_157[_15c+"Seconds"]())].join(":");var _160=_157[_15c+"Milliseconds"]();if(_158.milliseconds){time+="."+(_160<100?"0":"")+_(_160);}if(_158.zulu){time+="Z";}else{if(_158.selector!="time"){var _161=_157.getTimezoneOffset();var _162=Math.abs(_161);time+=(_161>0?"-":"+")+_(Math.floor(_162/60))+":"+_(_162%60);}}_15b.push(time);}return _15b.join("T");};}if(!dojo._hasResource["dojo.parser"]){dojo._hasResource["dojo.parser"]=true;dojo.provide("dojo.parser");dojo.parser=new function(){var d=dojo;var _164=d._scopeName+"Type";var qry="["+_164+"]";function val2type(_166){if(d.isString(_166)){return "string";}if(typeof _166=="number"){return "number";}if(typeof _166=="boolean"){return "boolean";}if(d.isFunction(_166)){return "function";}if(d.isArray(_166)){return "array";}if(_166 instanceof Date){return "date";}if(_166 instanceof d._Url){return "url";}return "object";};function str2obj(_167,type){switch(type){case "string":return _167;case "number":return _167.length?Number(_167):NaN;case "boolean":return typeof _167=="boolean"?_167:!(_167.toLowerCase()=="false");case "function":if(d.isFunction(_167)){_167=_167.toString();_167=d.trim(_167.substring(_167.indexOf("{")+1,_167.length-1));}try{if(_167.search(/[^\w\.]+/i)!=-1){_167=d.parser._nameAnonFunc(new Function(_167),this);}return d.getObject(_167,false);}catch(e){return new Function();}case "array":return _167.split(/\s*,\s*/);case "date":switch(_167){case "":return new Date("");case "now":return new Date();default:return d.date.stamp.fromISOString(_167);}case "url":return d.baseUrl+_167;default:return d.fromJson(_167);}};var _169={};function getClassInfo(_16a){if(!_169[_16a]){var cls=d.getObject(_16a);if(!d.isFunction(cls)){throw new Error("Could not load class '"+_16a+"'. Did you spell the name correctly and use a full path, like 'dijit.form.Button'?");}var _16c=cls.prototype;var _16d={};for(var name in _16c){if(name.charAt(0)=="_"){continue;}var _16f=_16c[name];_16d[name]=val2type(_16f);}_169[_16a]={cls:cls,params:_16d};}return _169[_16a];};this._functionFromScript=function(_170){var _171="";var _172="";var _173=_170.getAttribute("args");if(_173){d.forEach(_173.split(/\s*,\s*/),function(part,idx){_171+="var "+part+" = arguments["+idx+"]; ";});}var _176=_170.getAttribute("with");if(_176&&_176.length){d.forEach(_176.split(/\s*,\s*/),function(part){_171+="with("+part+"){";_172+="}";});}return new Function(_171+_170.innerHTML+_172);};this.instantiate=function(_178){var _179=[];d.forEach(_178,function(node){if(!node){return;}var type=node.getAttribute(_164);if((!type)||(!type.length)){return;}var _17c=getClassInfo(type);var _17d=_17c.cls;var ps=_17d._noScript||_17d.prototype._noScript;var _17f={};var _180=node.attributes;for(var name in _17c.params){var item=_180.getNamedItem(name);if(!item||(!item.specified&&(!dojo.isIE||name.toLowerCase()!="value"))){continue;}var _183=item.value;switch(name){case "class":_183=node.className;break;case "style":_183=node.style&&node.style.cssText;}var _184=_17c.params[name];_17f[name]=str2obj(_183,_184);}if(!ps){var _185=[],_186=[];d.query("> script[type^='dojo/']",node).orphan().forEach(function(_187){var _188=_187.getAttribute("event"),type=_187.getAttribute("type"),nf=d.parser._functionFromScript(_187);if(_188){if(type=="dojo/connect"){_185.push({event:_188,func:nf});}else{_17f[_188]=nf;}}else{_186.push(nf);}});}var _18a=_17d["markupFactory"];if(!_18a&&_17d["prototype"]){_18a=_17d.prototype["markupFactory"];}var _18b=_18a?_18a(_17f,node,_17d):new _17d(_17f,node);_179.push(_18b);var _18c=node.getAttribute("jsId");if(_18c){d.setObject(_18c,_18b);}if(!ps){d.forEach(_185,function(_18d){d.connect(_18b,_18d.event,null,_18d.func);});d.forEach(_186,function(func){func.call(_18b);});}});d.forEach(_179,function(_18f){if(_18f&&_18f.startup&&!_18f._started&&(!_18f.getParent||!_18f.getParent())){_18f.startup();}});return _179;};this.parse=function(_190){var list=d.query(qry,_190);var _192=this.instantiate(list);return _192;};}();(function(){var _193=function(){if(dojo.config["parseOnLoad"]==true){dojo.parser.parse();}};if(dojo.exists("dijit.wai.onload")&&(dijit.wai.onload===dojo._loaders[0])){dojo._loaders.splice(1,0,_193);}else{dojo._loaders.unshift(_193);}})();dojo.parser._anonCtr=0;dojo.parser._anon={};dojo.parser._nameAnonFunc=function(_194,_195){var jpn="$joinpoint";var nso=(_195||dojo.parser._anon);if(dojo.isIE){var cn=_194["__dojoNameCache"];if(cn&&nso[cn]===_194){return _194["__dojoNameCache"];}}var ret="__"+dojo.parser._anonCtr++;while(typeof nso[ret]!="undefined"){ret="__"+dojo.parser._anonCtr++;}nso[ret]=_194;return ret;};}if(!dojo._hasResource["dijit._Templated"]){dojo._hasResource["dijit._Templated"]=true;dojo.provide("dijit._Templated");dojo.declare("dijit._Templated",null,{templateNode:null,templateString:null,templatePath:null,widgetsInTemplate:false,containerNode:null,_skipNodeCache:false,_stringRepl:function(tmpl){var _19b=this.declaredClass,_19c=this;return dojo.string.substitute(tmpl,this,function(_19d,key){if(key.charAt(0)=="!"){_19d=_19c[key.substr(1)];}if(typeof _19d=="undefined"){throw new Error(_19b+" template:"+key);}if(!_19d){return "";}return key.charAt(0)=="!"?_19d:_19d.toString().replace(/"/g,"&quot;");},this);},buildRendering:function(){var _19f=dijit._Templated.getCachedTemplate(this.templatePath,this.templateString,this._skipNodeCache);var node;if(dojo.isString(_19f)){node=dijit._Templated._createNodesFromText(this._stringRepl(_19f))[0];}else{node=_19f.cloneNode(true);}this._attachTemplateNodes(node);var _1a1=this.srcNodeRef;if(_1a1&&_1a1.parentNode){_1a1.parentNode.replaceChild(node,_1a1);}this.domNode=node;if(this.widgetsInTemplate){var cw=this._supportingWidgets=dojo.parser.parse(node);this._attachTemplateNodes(cw,function(n,p){return n[p];});}this._fillContent(_1a1);},_fillContent:function(_1a5){var dest=this.containerNode;if(_1a5&&dest){while(_1a5.hasChildNodes()){dest.appendChild(_1a5.firstChild);}}},_attachTemplateNodes:function(_1a7,_1a8){_1a8=_1a8||function(n,p){return n.getAttribute(p);};var _1ab=dojo.isArray(_1a7)?_1a7:(_1a7.all||_1a7.getElementsByTagName("*"));var x=dojo.isArray(_1a7)?0:-1;for(;x<_1ab.length;x++){var _1ad=(x==-1)?_1a7:_1ab[x];if(this.widgetsInTemplate&&_1a8(_1ad,"dojoType")){continue;}var _1ae=_1a8(_1ad,"dojoAttachPoint");if(_1ae){var _1af,_1b0=_1ae.split(/\s*,\s*/);while((_1af=_1b0.shift())){if(dojo.isArray(this[_1af])){this[_1af].push(_1ad);}else{this[_1af]=_1ad;}}}var _1b1=_1a8(_1ad,"dojoAttachEvent");if(_1b1){var _1b2,_1b3=_1b1.split(/\s*,\s*/);var trim=dojo.trim;while((_1b2=_1b3.shift())){if(_1b2){var _1b5=null;if(_1b2.indexOf(":")!=-1){var _1b6=_1b2.split(":");_1b2=trim(_1b6[0]);_1b5=trim(_1b6[1]);}else{_1b2=trim(_1b2);}if(!_1b5){_1b5=_1b2;}this.connect(_1ad,_1b2,_1b5);}}}var role=_1a8(_1ad,"waiRole");if(role){dijit.setWaiRole(_1ad,role);}var _1b8=_1a8(_1ad,"waiState");if(_1b8){dojo.forEach(_1b8.split(/\s*,\s*/),function(_1b9){if(_1b9.indexOf("-")!=-1){var pair=_1b9.split("-");dijit.setWaiState(_1ad,pair[0],pair[1]);}});}}}});dijit._Templated._templateCache={};dijit._Templated.getCachedTemplate=function(_1bb,_1bc,_1bd){var _1be=dijit._Templated._templateCache;var key=_1bc||_1bb;var _1c0=_1be[key];if(_1c0){return _1c0;}if(!_1bc){_1bc=dijit._Templated._sanitizeTemplateString(dojo._getText(_1bb));}_1bc=dojo.string.trim(_1bc);if(_1bd||_1bc.match(/\$\{([^\}]+)\}/g)){return (_1be[key]=_1bc);}else{return (_1be[key]=dijit._Templated._createNodesFromText(_1bc)[0]);}};dijit._Templated._sanitizeTemplateString=function(_1c1){if(_1c1){_1c1=_1c1.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var _1c2=_1c1.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);if(_1c2){_1c1=_1c2[1];}}else{_1c1="";}return _1c1;};if(dojo.isIE){dojo.addOnUnload(function(){var _1c3=dijit._Templated._templateCache;for(var key in _1c3){var _1c5=_1c3[key];if(!isNaN(_1c5.nodeType)){dojo._destroyElement(_1c5);}delete _1c3[key];}});}(function(){var _1c6={cell:{re:/^<t[dh][\s\r\n>]/i,pre:"<table><tbody><tr>",post:"</tr></tbody></table>"},row:{re:/^<tr[\s\r\n>]/i,pre:"<table><tbody>",post:"</tbody></table>"},section:{re:/^<(thead|tbody|tfoot)[\s\r\n>]/i,pre:"<table>",post:"</table>"}};var tn;dijit._Templated._createNodesFromText=function(text){if(!tn){tn=dojo.doc.createElement("div");tn.style.display="none";dojo.body().appendChild(tn);}var _1c9="none";var _1ca=text.replace(/^\s+/,"");for(var type in _1c6){var map=_1c6[type];if(map.re.test(_1ca)){_1c9=type;text=map.pre+text+map.post;break;}}tn.innerHTML=text;if(tn.normalize){tn.normalize();}var tag={cell:"tr",row:"tbody",section:"table"}[_1c9];var _1ce=(typeof tag!="undefined")?tn.getElementsByTagName(tag)[0]:tn;var _1cf=[];while(_1ce.firstChild){_1cf.push(_1ce.removeChild(_1ce.firstChild));}tn.innerHTML="";return _1cf;};})();dojo.extend(dijit._Widget,{dojoAttachEvent:"",dojoAttachPoint:"",waiRole:"",waiState:""});}if(!dojo._hasResource["dijit._Container"]){dojo._hasResource["dijit._Container"]=true;dojo.provide("dijit._Container");dojo.declare("dijit._Contained",null,{getParent:function(){for(var p=this.domNode.parentNode;p;p=p.parentNode){var id=p.getAttribute&&p.getAttribute("widgetId");if(id){var _1d2=dijit.byId(id);return _1d2.isContainer?_1d2:null;}}return null;},_getSibling:function(_1d3){var node=this.domNode;do{node=node[_1d3+"Sibling"];}while(node&&node.nodeType!=1);if(!node){return null;}var id=node.getAttribute("widgetId");return dijit.byId(id);},getPreviousSibling:function(){return this._getSibling("previous");},getNextSibling:function(){return this._getSibling("next");}});dojo.declare("dijit._Container",null,{isContainer:true,addChild:function(_1d6,_1d7){if(_1d7===undefined){_1d7="last";}var _1d8=this.containerNode||this.domNode;if(_1d7&&typeof _1d7=="number"){var _1d9=dojo.query("> [widgetid]",_1d8);if(_1d9&&_1d9.length>=_1d7){_1d8=_1d9[_1d7-1];_1d7="after";}}dojo.place(_1d6.domNode,_1d8,_1d7);if(this._started&&!_1d6._started){_1d6.startup();}},removeChild:function(_1da){var node=_1da.domNode;node.parentNode.removeChild(node);},_nextElement:function(node){do{node=node.nextSibling;}while(node&&node.nodeType!=1);return node;},_firstElement:function(node){node=node.firstChild;if(node&&node.nodeType!=1){node=this._nextElement(node);}return node;},getChildren:function(){return dojo.query("> [widgetId]",this.containerNode||this.domNode).map(dijit.byNode);},hasChildren:function(){var cn=this.containerNode||this.domNode;return !!this._firstElement(cn);},_getSiblingOfChild:function(_1df,dir){var node=_1df.domNode;var _1e2=(dir>0?"nextSibling":"previousSibling");do{node=node[_1e2];}while(node&&(node.nodeType!=1||!dijit.byNode(node)));return node?dijit.byNode(node):null;}});dojo.declare("dijit._KeyNavContainer",[dijit._Container],{_keyNavCodes:{},connectKeyNavHandlers:function(_1e3,_1e4){var _1e5=this._keyNavCodes={};var prev=dojo.hitch(this,this.focusPrev);var next=dojo.hitch(this,this.focusNext);dojo.forEach(_1e3,function(code){_1e5[code]=prev;});dojo.forEach(_1e4,function(code){_1e5[code]=next;});this.connect(this.domNode,"onkeypress","_onContainerKeypress");this.connect(this.domNode,"onfocus","_onContainerFocus");},startupKeyNavChildren:function(){dojo.forEach(this.getChildren(),dojo.hitch(this,"_startupChild"));},addChild:function(_1ea,_1eb){dijit._KeyNavContainer.superclass.addChild.apply(this,arguments);this._startupChild(_1ea);},focus:function(){this.focusFirstChild();},focusFirstChild:function(){this.focusChild(this._getFirstFocusableChild());},focusNext:function(){if(this.focusedChild&&this.focusedChild.hasNextFocalNode&&this.focusedChild.hasNextFocalNode()){this.focusedChild.focusNext();return;}var _1ec=this._getNextFocusableChild(this.focusedChild,1);if(_1ec.getFocalNodes){this.focusChild(_1ec,_1ec.getFocalNodes()[0]);}else{this.focusChild(_1ec);}},focusPrev:function(){if(this.focusedChild&&this.focusedChild.hasPrevFocalNode&&this.focusedChild.hasPrevFocalNode()){this.focusedChild.focusPrev();return;}var _1ed=this._getNextFocusableChild(this.focusedChild,-1);if(_1ed.getFocalNodes){var _1ee=_1ed.getFocalNodes();this.focusChild(_1ed,_1ee[_1ee.length-1]);}else{this.focusChild(_1ed);}},focusChild:function(_1ef,node){if(_1ef){if(this.focusedChild&&_1ef!==this.focusedChild){this._onChildBlur(this.focusedChild);}this.focusedChild=_1ef;if(node&&_1ef.focusFocalNode){_1ef.focusFocalNode(node);}else{_1ef.focus();}}},_startupChild:function(_1f1){if(_1f1.getFocalNodes){dojo.forEach(_1f1.getFocalNodes(),function(node){dojo.attr(node,"tabindex",-1);this._connectNode(node);},this);}else{var node=_1f1.focusNode||_1f1.domNode;if(_1f1.isFocusable()){dojo.attr(node,"tabindex",-1);}this._connectNode(node);}},_connectNode:function(node){this.connect(node,"onfocus","_onNodeFocus");this.connect(node,"onblur","_onNodeBlur");},_onContainerFocus:function(evt){if(evt.target===this.domNode){this.focusFirstChild();}},_onContainerKeypress:function(evt){if(evt.ctrlKey||evt.altKey){return;}var func=this._keyNavCodes[evt.keyCode];if(func){func();dojo.stopEvent(evt);}},_onNodeFocus:function(evt){dojo.attr(this.domNode,"tabindex",-1);var _1f9=dijit.getEnclosingWidget(evt.target);if(_1f9&&_1f9.isFocusable()){this.focusedChild=_1f9;}dojo.stopEvent(evt);},_onNodeBlur:function(evt){if(this.tabIndex){dojo.attr(this.domNode,"tabindex",this.tabIndex);}dojo.stopEvent(evt);},_onChildBlur:function(_1fb){},_getFirstFocusableChild:function(){return this._getNextFocusableChild(null,1);},_getNextFocusableChild:function(_1fc,dir){if(_1fc){_1fc=this._getSiblingOfChild(_1fc,dir);}var _1fe=this.getChildren();for(var i=0;i<_1fe.length;i++){if(!_1fc){_1fc=_1fe[(dir>0)?0:(_1fe.length-1)];}if(_1fc.isFocusable()){return _1fc;}_1fc=this._getSiblingOfChild(_1fc,dir);}return null;}});}if(!dojo._hasResource["dojo.regexp"]){dojo._hasResource["dojo.regexp"]=true;dojo.provide("dojo.regexp");dojo.regexp.escapeString=function(str,_201){return str.replace(/([\.$?*!=:|{}\(\)\[\]\\\/^])/g,function(ch){if(_201&&_201.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};dojo.regexp.buildGroupRE=function(arr,re,_205){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return dojo.regexp.group(b.join("|"),_205);};dojo.regexp.group=function(_208,_209){return "("+(_209?"?:":"")+_208+")";};}if(!dojo._hasResource["dojo.cookie"]){dojo._hasResource["dojo.cookie"]=true;dojo.provide("dojo.cookie");dojo.cookie=function(name,_20b,_20c){var c=document.cookie;if(arguments.length==1){var _20e=c.match(new RegExp("(?:^|; )"+dojo.regexp.escapeString(name)+"=([^;]*)"));return _20e?decodeURIComponent(_20e[1]):undefined;}else{_20c=_20c||{};var exp=_20c.expires;if(typeof exp=="number"){var d=new Date();d.setTime(d.getTime()+exp*24*60*60*1000);exp=_20c.expires=d;}if(exp&&exp.toUTCString){_20c.expires=exp.toUTCString();}_20b=encodeURIComponent(_20b);var _211=name+"="+_20b;for(propName in _20c){_211+="; "+propName;var _212=_20c[propName];if(_212!==true){_211+="="+_212;}}document.cookie=_211;}};dojo.cookie.isSupported=function(){if(!("cookieEnabled" in navigator)){this("__djCookieTest__","CookiesAllowed");navigator.cookieEnabled=this("__djCookieTest__")=="CookiesAllowed";if(navigator.cookieEnabled){this("__djCookieTest__","",{expires:-1});}}return navigator.cookieEnabled;};}if(!dojo._hasResource["dijit.Tree"]){dojo._hasResource["dijit.Tree"]=true;dojo.provide("dijit.Tree");dojo.declare("dijit._TreeNode",[dijit._Widget,dijit._Templated,dijit._Container,dijit._Contained],{item:null,isTreeNode:true,label:"",isExpandable:null,isExpanded:false,state:"UNCHECKED",templateString:"<div class=\"dijitTreeNode\" waiRole=\"presentation\"\r\n\t><div dojoAttachPoint=\"rowNode\" waiRole=\"presentation\"\r\n\t\t><span dojoAttachPoint=\"expandoNode\" class=\"dijitTreeExpando\" waiRole=\"presentation\"\r\n\t\t></span\r\n\t\t><span dojoAttachPoint=\"expandoNodeText\" class=\"dijitExpandoText\" waiRole=\"presentation\"\r\n\t\t></span\r\n\t\t><div dojoAttachPoint=\"contentNode\" class=\"dijitTreeContent\" waiRole=\"presentation\">\r\n\t\t\t<div dojoAttachPoint=\"iconNode\" class=\"dijitInline dijitTreeIcon\" waiRole=\"presentation\"></div>\r\n\t\t\t<span dojoAttachPoint=\"labelNode\" class=\"dijitTreeLabel\" wairole=\"treeitem\" tabindex=\"-1\" waiState=\"selected-false\" dojoAttachEvent=\"onfocus:_onNodeFocus\"></span>\r\n\t\t</div\r\n\t></div>\r\n</div>\r\n",postCreate:function(){this.setLabelNode(this.label);this._setExpando();this._updateItemClasses(this.item);if(this.isExpandable){dijit.setWaiState(this.labelNode,"expanded",this.isExpanded);}},markProcessing:function(){this.state="LOADING";this._setExpando(true);},unmarkProcessing:function(){this._setExpando(false);},_updateItemClasses:function(item){var tree=this.tree,_215=tree.model;if(tree._v10Compat&&item===_215.root){item=null;}this.iconNode.className="dijitInline dijitTreeIcon "+tree.getIconClass(item,this.isExpanded);this.labelNode.className="dijitTreeLabel "+tree.getLabelClass(item,this.isExpanded);},_updateLayout:function(){var _216=this.getParent();if(!_216||_216.rowNode.style.display=="none"){dojo.addClass(this.domNode,"dijitTreeIsRoot");}else{dojo.toggleClass(this.domNode,"dijitTreeIsLast",!this.getNextSibling());}},_setExpando:function(_217){var _218=["dijitTreeExpandoLoading","dijitTreeExpandoOpened","dijitTreeExpandoClosed","dijitTreeExpandoLeaf"];var idx=_217?0:(this.isExpandable?(this.isExpanded?1:2):3);dojo.forEach(_218,function(s){dojo.removeClass(this.expandoNode,s);},this);dojo.addClass(this.expandoNode,_218[idx]);this.expandoNodeText.innerHTML=_217?"*":(this.isExpandable?(this.isExpanded?"-":"+"):"*");},expand:function(){if(this.isExpanded){return;}if(this._wipeOut.status()=="playing"){this._wipeOut.stop();}this.isExpanded=true;dijit.setWaiState(this.labelNode,"expanded","true");dijit.setWaiRole(this.containerNode,"group");this.contentNode.className="dijitTreeContent dijitTreeContentExpanded";this._setExpando();this._updateItemClasses(this.item);this._wipeIn.play();},collapse:function(){if(!this.isExpanded){return;}if(this._wipeIn.status()=="playing"){this._wipeIn.stop();}this.isExpanded=false;dijit.setWaiState(this.labelNode,"expanded","false");this.contentNode.className="dijitTreeContent";this._setExpando();this._updateItemClasses(this.item);this._wipeOut.play();},setLabelNode:function(_21b){this.labelNode.innerHTML="";this.labelNode.appendChild(dojo.doc.createTextNode(_21b));},setChildItems:function(_21c){var tree=this.tree,_21e=tree.model;this.getChildren().forEach(function(_21f){dijit._Container.prototype.removeChild.call(this,_21f);},this);this.state="LOADED";if(_21c&&_21c.length>0){this.isExpandable=true;if(!this.containerNode){this.containerNode=this.tree.containerNodeTemplate.cloneNode(true);this.domNode.appendChild(this.containerNode);}dojo.forEach(_21c,function(item){var id=_21e.getIdentity(item),_222=tree._itemNodeMap[id],node=(_222&&!_222.getParent())?_222:new dijit._TreeNode({item:item,tree:tree,isExpandable:_21e.mayHaveChildren(item),label:tree.getLabel(item)});this.addChild(node);tree._itemNodeMap[id]=node;if(this.tree.persist){if(tree._openedItemIds[id]){tree._expandNode(node);}}},this);dojo.forEach(this.getChildren(),function(_224,idx){_224._updateLayout();});}else{this.isExpandable=false;}if(this._setExpando){this._setExpando(false);}if(!this.parent){var fc=this.tree.showRoot?this:this.getChildren()[0],_227=fc?fc.labelNode:this.domNode;_227.setAttribute("tabIndex","0");}if(this.containerNode&&!this._wipeIn){this._wipeIn=dojo.fx.wipeIn({node:this.containerNode,duration:150});this._wipeOut=dojo.fx.wipeOut({node:this.containerNode,duration:150});}},removeChild:function(node){this.inherited(arguments);var _229=this.getChildren();if(_229.length==0){this.isExpandable=false;this.collapse();}dojo.forEach(_229,function(_22a){_22a._updateLayout();});},makeExpandable:function(){this.isExpandable=true;this._setExpando(false);},_onNodeFocus:function(evt){var node=dijit.getEnclosingWidget(evt.target);this.tree._onTreeFocus(node);}});dojo.declare("dijit.Tree",[dijit._Widget,dijit._Templated],{store:null,model:null,query:null,label:"",showRoot:true,childrenAttr:["children"],openOnClick:false,templateString:"<div class=\"dijitTreeContainer\" waiRole=\"tree\"\r\n\tdojoAttachEvent=\"onclick:_onClick,onkeypress:_onKeyPress\">\r\n</div>\r\n",isExpandable:true,isTree:true,persist:true,dndController:null,dndParams:["onDndDrop","itemCreator","onDndCancel","checkAcceptance","checkItemAcceptance"],onDndDrop:null,itemCreator:null,onDndCancel:null,checkAcceptance:null,checkItemAcceptance:null,_publish:function(_22d,_22e){dojo.publish(this.id,[dojo.mixin({tree:this,event:_22d},_22e||{})]);},postMixInProperties:function(){this.tree=this;this._itemNodeMap={};if(!this.cookieName){this.cookieName=this.id+"SaveStateCookie";}},postCreate:function(){if(this.persist){var _22f=dojo.cookie(this.cookieName);this._openedItemIds={};if(_22f){dojo.forEach(_22f.split(","),function(item){this._openedItemIds[item]=true;},this);}}var div=dojo.doc.createElement("div");div.style.display="none";div.className="dijitTreeContainer";dijit.setWaiRole(div,"presentation");this.containerNodeTemplate=div;if(!this.model){this._store2model();}this.connect(this.model,"onChange","_onItemChange");this.connect(this.model,"onChildrenChange","_onItemChildrenChange");this._load();this.inherited("postCreate",arguments);if(this.dndController){if(dojo.isString(this.dndController)){this.dndController=dojo.getObject(this.dndController);}var _232={};for(var i=0;i<this.dndParams.length;i++){if(this[this.dndParams[i]]){_232[this.dndParams[i]]=this[this.dndParams[i]];}}this.dndController=new this.dndController(this,_232);}},_store2model:function(){this._v10Compat=true;dojo.deprecated("Tree: from version 2.0, should specify a model object rather than a store/query");var _234={id:this.id+"_ForestStoreModel",store:this.store,query:this.query,childrenAttrs:this.childrenAttr};if(this.params.mayHaveChildren){_234.mayHaveChildren=dojo.hitch(this,"mayHaveChildren");}if(this.params.getItemChildren){_234.getChildren=dojo.hitch(this,function(item,_236,_237){this.getItemChildren((this._v10Compat&&item===this.model.root)?null:item,_236,_237);});}this.model=new dijit.tree.ForestStoreModel(_234);this.showRoot=Boolean(this.label);},_load:function(){this.model.getRoot(dojo.hitch(this,function(item){var rn=this.rootNode=new dijit._TreeNode({item:item,tree:this,isExpandable:true,label:this.label||this.getLabel(item)});if(!this.showRoot){rn.rowNode.style.display="none";}this.domNode.appendChild(rn.domNode);this._itemNodeMap[this.model.getIdentity(item)]=rn;rn._updateLayout();this._expandNode(rn);}),function(err){console.error(this,": error loading root: ",err);});},mayHaveChildren:function(item){},getItemChildren:function(_23c,_23d){},getLabel:function(item){return this.model.getLabel(item);},getIconClass:function(item,_240){return (!item||this.model.mayHaveChildren(item))?(_240?"dijitFolderOpened":"dijitFolderClosed"):"dijitLeaf";},getLabelClass:function(item,_242){},_onKeyPress:function(e){if(e.altKey){return;}var _244=dijit.getEnclosingWidget(e.target);if(!_244){return;}if(e.charCode){var _245=e.charCode;if(!e.altKey&&!e.ctrlKey&&!e.shiftKey&&!e.metaKey){_245=(String.fromCharCode(_245)).toLowerCase();this._onLetterKeyNav({node:_244,key:_245});dojo.stopEvent(e);}}else{var map=this._keyHandlerMap;if(!map){map={};map[dojo.keys.ENTER]="_onEnterKey";map[dojo.keys.LEFT_ARROW]="_onLeftArrow";map[dojo.keys.RIGHT_ARROW]="_onRightArrow";map[dojo.keys.UP_ARROW]="_onUpArrow";map[dojo.keys.DOWN_ARROW]="_onDownArrow";map[dojo.keys.HOME]="_onHomeKey";map[dojo.keys.END]="_onEndKey";this._keyHandlerMap=map;}if(this._keyHandlerMap[e.keyCode]){this[this._keyHandlerMap[e.keyCode]]({node:_244,item:_244.item});dojo.stopEvent(e);}}},_onEnterKey:function(_247){this._publish("execute",{item:_247.item,node:_247.node});this.onClick(_247.item,_247.node);},_onDownArrow:function(_248){var node=this._getNextNode(_248.node);if(node&&node.isTreeNode){this.focusNode(node);}},_onUpArrow:function(_24a){var node=_24a.node;var _24c=node.getPreviousSibling();if(_24c){node=_24c;while(node.isExpandable&&node.isExpanded&&node.hasChildren()){var _24d=node.getChildren();node=_24d[_24d.length-1];}}else{var _24e=node.getParent();if(!(!this.showRoot&&_24e===this.rootNode)){node=_24e;}}if(node&&node.isTreeNode){this.focusNode(node);}},_onRightArrow:function(_24f){var node=_24f.node;if(node.isExpandable&&!node.isExpanded){this._expandNode(node);}else{if(node.hasChildren()){node=node.getChildren()[0];if(node&&node.isTreeNode){this.focusNode(node);}}}},_onLeftArrow:function(_251){var node=_251.node;if(node.isExpandable&&node.isExpanded){this._collapseNode(node);}else{node=node.getParent();if(node&&node.isTreeNode){this.focusNode(node);}}},_onHomeKey:function(){var node=this._getRootOrFirstNode();if(node){this.focusNode(node);}},_onEndKey:function(_254){var node=this;while(node.isExpanded){var c=node.getChildren();node=c[c.length-1];}if(node&&node.isTreeNode){this.focusNode(node);}},_onLetterKeyNav:function(_257){var node=startNode=_257.node,key=_257.key;do{node=this._getNextNode(node);if(!node){node=this._getRootOrFirstNode();}}while(node!==startNode&&(node.label.charAt(0).toLowerCase()!=key));if(node&&node.isTreeNode){if(node!==startNode){this.focusNode(node);}}},_onClick:function(e){var _25b=e.target;var _25c=dijit.getEnclosingWidget(_25b);if(!_25c||!_25c.isTreeNode){return;}if((this.openOnClick&&_25c.isExpandable)||(_25b==_25c.expandoNode||_25b==_25c.expandoNodeText)){if(_25c.isExpandable){this._onExpandoClick({node:_25c});}}else{this._publish("execute",{item:_25c.item,node:_25c});this.onClick(_25c.item,_25c);this.focusNode(_25c);}dojo.stopEvent(e);},_onExpandoClick:function(_25d){var node=_25d.node;this.focusNode(node);if(node.isExpanded){this._collapseNode(node);}else{this._expandNode(node);}},onClick:function(item,node){},_getNextNode:function(node){if(node.isExpandable&&node.isExpanded&&node.hasChildren()){return node.getChildren()[0];}else{while(node&&node.isTreeNode){var _262=node.getNextSibling();if(_262){return _262;}node=node.getParent();}return null;}},_getRootOrFirstNode:function(){return this.showRoot?this.rootNode:this.rootNode.getChildren()[0];},_collapseNode:function(node){if(node.isExpandable){if(node.state=="LOADING"){return;}node.collapse();if(this.persist&&node.item){delete this._openedItemIds[this.model.getIdentity(node.item)];this._saveState();}}},_expandNode:function(node){if(!node.isExpandable){return;}var _265=this.model,item=node.item;switch(node.state){case "LOADING":return;case "UNCHECKED":node.markProcessing();var _267=this;_265.getChildren(item,function(_268){node.unmarkProcessing();node.setChildItems(_268);_267._expandNode(node);},function(err){console.error(_267,": error loading root children: ",err);});break;default:node.expand();if(this.persist&&item){this._openedItemIds[_265.getIdentity(item)]=true;this._saveState();}}},blurNode:function(){var node=this.lastFocused;if(!node){return;}var _26b=node.labelNode;dojo.removeClass(_26b,"dijitTreeLabelFocused");_26b.setAttribute("tabIndex","-1");dijit.setWaiState(_26b,"selected",false);this.lastFocused=null;},focusNode:function(node){node.labelNode.focus();},_onBlur:function(){this.inherited(arguments);if(this.lastFocused){var _26d=this.lastFocused.labelNode;dojo.removeClass(_26d,"dijitTreeLabelFocused");}},_onTreeFocus:function(node){if(node){if(node!=this.lastFocused){this.blurNode();}var _26f=node.labelNode;_26f.setAttribute("tabIndex","0");dijit.setWaiState(_26f,"selected",true);dojo.addClass(_26f,"dijitTreeLabelFocused");this.lastFocused=node;}},_onItemDelete:function(item){var _271=this.model.getIdentity(item);var node=this._itemNodeMap[_271];if(node){var _273=node.getParent();if(_273){_273.removeChild(node);}delete this._itemNodeMap[_271];node.destroyRecursive();}},_onItemChange:function(item){var _275=this.model,_276=_275.getIdentity(item),node=this._itemNodeMap[_276];if(node){node.setLabelNode(this.getLabel(item));node._updateItemClasses(item);}},_onItemChildrenChange:function(_278,_279){var _27a=this.model,_27b=_27a.getIdentity(_278),_27c=this._itemNodeMap[_27b];if(_27c){_27c.setChildItems(_279);}},_saveState:function(){if(!this.persist){return;}var ary=[];for(var id in this._openedItemIds){ary.push(id);}dojo.cookie(this.cookieName,ary.join(","));},destroy:function(){if(this.rootNode){this.rootNode.destroyRecursive();}this.rootNode=null;this.inherited(arguments);},destroyRecursive:function(){this.destroy();}});dojo.declare("dijit.tree.TreeStoreModel",null,{store:null,childrenAttrs:["children"],root:null,query:null,constructor:function(args){dojo.mixin(this,args);this.connects=[];var _280=this.store;if(!_280.getFeatures()["dojo.data.api.Identity"]){throw new Error("dijit.Tree: store must support dojo.data.Identity");}if(_280.getFeatures()["dojo.data.api.Notification"]){this.connects=this.connects.concat([dojo.connect(_280,"onNew",this,"_onNewItem"),dojo.connect(_280,"onDelete",this,"_onDeleteItem"),dojo.connect(_280,"onSet",this,"_onSetItem")]);}},destroy:function(){dojo.forEach(this.connects,dojo.disconnect);},getRoot:function(_281,_282){if(this.root){_281(this.root);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_283){if(_283.length!=1){throw new Error(this.declaredClass+": query "+query+" returned "+_283.length+" items, but must return exactly one item");}this.root=_283[0];_281(this.root);}),onError:_282});}},mayHaveChildren:function(item){return dojo.some(this.childrenAttrs,function(attr){return this.store.hasAttribute(item,attr);},this);},getChildren:function(_286,_287,_288){var _289=this.store;var _28a=[];for(var i=0;i<this.childrenAttrs.length;i++){var vals=_289.getValues(_286,this.childrenAttrs[i]);_28a=_28a.concat(vals);}var _28d=0;dojo.forEach(_28a,function(item){if(!_289.isItemLoaded(item)){_28d++;}});if(_28d==0){_287(_28a);}else{var _28f=function _28f(item){if(--_28d==0){_287(_28a);}};dojo.forEach(_28a,function(item){if(!_289.isItemLoaded(item)){_289.loadItem({item:item,onItem:_28f,onError:_288});}});}},getIdentity:function(item){return this.store.getIdentity(item);},getLabel:function(item){return this.store.getLabel(item);},newItem:function(args,_295){var _296={parent:_295,attribute:this.childrenAttrs[0]};return this.store.newItem(args,_296);},pasteItem:function(_297,_298,_299,_29a){var _29b=this.store,_29c=this.childrenAttrs[0];if(_298){dojo.forEach(this.childrenAttrs,function(attr){if(_29b.containsValue(_298,attr,_297)){if(!_29a){var _29e=dojo.filter(_29b.getValues(_298,attr),function(x){return x!=_297;});_29b.setValues(_298,attr,_29e);}_29c=attr;}});}if(_299){_29b.setValues(_299,_29c,_29b.getValues(_299,_29c).concat(_297));}},onChange:function(item){},onChildrenChange:function(_2a1,_2a2){},_onNewItem:function(item,_2a4){if(!_2a4){return;}this.getChildren(_2a4.item,dojo.hitch(this,function(_2a5){this.onChildrenChange(_2a4.item,_2a5);}));},_onDeleteItem:function(item){},_onSetItem:function(item,_2a8,_2a9,_2aa){if(dojo.indexOf(this.childrenAttrs,_2a8)!=-1){this.getChildren(item,dojo.hitch(this,function(_2ab){this.onChildrenChange(item,_2ab);}));}else{this.onChange(item);}}});dojo.declare("dijit.tree.ForestStoreModel",dijit.tree.TreeStoreModel,{rootId:"$root$",rootLabel:"ROOT",query:null,constructor:function(_2ac){this.root={store:this,root:true,id:_2ac.rootId,label:_2ac.rootLabel,children:_2ac.rootChildren};},mayHaveChildren:function(item){return item===this.root||this.inherited(arguments);},getChildren:function(_2ae,_2af,_2b0){if(_2ae===this.root){if(this.root.children){_2af(this.root.children);}else{this.store.fetch({query:this.query,onComplete:dojo.hitch(this,function(_2b1){this.root.children=_2b1;_2af(_2b1);}),onError:_2b0});}}else{this.inherited(arguments);}},getIdentity:function(item){return (item===this.root)?this.root.id:this.inherited(arguments);},getLabel:function(item){return (item===this.root)?this.root.label:this.inherited(arguments);},newItem:function(args,_2b5){if(_2b5===this.root){this.onNewRootItem(args);return this.store.newItem(args);}else{return this.inherited(arguments);}},onNewRootItem:function(args){},pasteItem:function(_2b7,_2b8,_2b9,_2ba){if(_2b8===this.root){if(!_2ba){this.onLeaveRoot(_2b7);}}dijit.tree.TreeStoreModel.prototype.pasteItem.call(this,_2b7,_2b8===this.root?null:_2b8,_2b9===this.root?null:_2b9);if(_2b9===this.root){this.onAddToRoot(_2b7);}},onAddToRoot:function(item){console.log(this,": item ",item," added to root");},onLeaveRoot:function(item){console.log(this,": item ",item," removed from root");},_requeryTop:function(){var _2bd=this,_2be=this.root.children;this.store.fetch({query:this.query,onComplete:function(_2bf){_2bd.root.children=_2bf;if(_2be.length!=_2bf.length||dojo.some(_2be,function(item,idx){return _2bf[idx]!=item;})){_2bd.onChildrenChange(_2bd.root,_2bf);}}});},_onNewItem:function(item,_2c3){this._requeryTop();this.inherited(arguments);},_onDeleteItem:function(item){if(dojo.indexOf(this.root.children,item)!=-1){this._requeryTop();}this.inherited(arguments);}});}if(!dojo._hasResource["dojo.data.util.filter"]){dojo._hasResource["dojo.data.util.filter"]=true;dojo.provide("dojo.data.util.filter");dojo.data.util.filter.patternToRegExp=function(_2c5,_2c6){var rxp="^";var c=null;for(var i=0;i<_2c5.length;i++){c=_2c5.charAt(i);switch(c){case "\\":rxp+=c;i++;rxp+=_2c5.charAt(i);break;case "*":rxp+=".*";break;case "?":rxp+=".";break;case "$":case "^":case "/":case "+":case ".":case "|":case "(":case ")":case "{":case "}":case "[":case "]":rxp+="\\";default:rxp+=c;}}rxp+="$";if(_2c6){return new RegExp(rxp,"i");}else{return new RegExp(rxp);}};}if(!dojo._hasResource["dojo.data.util.sorter"]){dojo._hasResource["dojo.data.util.sorter"]=true;dojo.provide("dojo.data.util.sorter");dojo.data.util.sorter.basicComparator=function(a,b){var ret=0;if(a>b||typeof a==="undefined"||a===null){ret=1;}else{if(a<b||typeof b==="undefined"||b===null){ret=-1;}}return ret;};dojo.data.util.sorter.createSortFunction=function(_2cd,_2ce){var _2cf=[];function createSortFunction(attr,dir){return function(_2d2,_2d3){var a=_2ce.getValue(_2d2,attr);var b=_2ce.getValue(_2d3,attr);var _2d6=null;if(_2ce.comparatorMap){if(typeof attr!=="string"){attr=_2ce.getIdentity(attr);}_2d6=_2ce.comparatorMap[attr]||dojo.data.util.sorter.basicComparator;}_2d6=_2d6||dojo.data.util.sorter.basicComparator;return dir*_2d6(a,b);};};for(var i=0;i<_2cd.length;i++){sortAttribute=_2cd[i];if(sortAttribute.attribute){var _2d8=(sortAttribute.descending)?-1:1;_2cf.push(createSortFunction(sortAttribute.attribute,_2d8));}}return function(rowA,rowB){var i=0;while(i<_2cf.length){var ret=_2cf[i++](rowA,rowB);if(ret!==0){return ret;}}return 0;};};}if(!dojo._hasResource["dojo.data.util.simpleFetch"]){dojo._hasResource["dojo.data.util.simpleFetch"]=true;dojo.provide("dojo.data.util.simpleFetch");dojo.data.util.simpleFetch.fetch=function(_2dd){_2dd=_2dd||{};if(!_2dd.store){_2dd.store=this;}var self=this;var _2df=function(_2e0,_2e1){if(_2e1.onError){var _2e2=_2e1.scope||dojo.global;_2e1.onError.call(_2e2,_2e0,_2e1);}};var _2e3=function(_2e4,_2e5){var _2e6=_2e5.abort||null;var _2e7=false;var _2e8=_2e5.start?_2e5.start:0;var _2e9=_2e5.count?(_2e8+_2e5.count):_2e4.length;_2e5.abort=function(){_2e7=true;if(_2e6){_2e6.call(_2e5);}};var _2ea=_2e5.scope||dojo.global;if(!_2e5.store){_2e5.store=self;}if(_2e5.onBegin){_2e5.onBegin.call(_2ea,_2e4.length,_2e5);}if(_2e5.sort){_2e4.sort(dojo.data.util.sorter.createSortFunction(_2e5.sort,self));}if(_2e5.onItem){for(var i=_2e8;(i<_2e4.length)&&(i<_2e9);++i){var item=_2e4[i];if(!_2e7){_2e5.onItem.call(_2ea,item,_2e5);}}}if(_2e5.onComplete&&!_2e7){var _2ed=null;if(!_2e5.onItem){_2ed=_2e4.slice(_2e8,_2e9);}_2e5.onComplete.call(_2ea,_2ed,_2e5);}};this._fetchItems(_2dd,_2e3,_2df);return _2dd;};}if(!dojo._hasResource["dojo.data.ItemFileReadStore"]){dojo._hasResource["dojo.data.ItemFileReadStore"]=true;dojo.provide("dojo.data.ItemFileReadStore");dojo.declare("dojo.data.ItemFileReadStore",null,{constructor:function(_2ee){this._arrayOfAllItems=[];this._arrayOfTopLevelItems=[];this._loadFinished=false;this._jsonFileUrl=_2ee.url;this._jsonData=_2ee.data;this._datatypeMap=_2ee.typeMap||{};if(!this._datatypeMap["Date"]){this._datatypeMap["Date"]={type:Date,deserialize:function(_2ef){return dojo.date.stamp.fromISOString(_2ef);}};}this._features={"dojo.data.api.Read":true,"dojo.data.api.Identity":true};this._itemsByIdentity=null;this._storeRefPropName="_S";this._itemNumPropName="_0";this._rootItemPropName="_RI";this._reverseRefMap="_RRM";this._loadInProgress=false;this._queuedFetches=[];},url:"",_assertIsItem:function(item){if(!this.isItem(item)){throw new Error("dojo.data.ItemFileReadStore: Invalid item argument.");}},_assertIsAttribute:function(_2f1){if(typeof _2f1!=="string"){throw new Error("dojo.data.ItemFileReadStore: Invalid attribute argument.");}},getValue:function(item,_2f3,_2f4){var _2f5=this.getValues(item,_2f3);return (_2f5.length>0)?_2f5[0]:_2f4;},getValues:function(item,_2f7){this._assertIsItem(item);this._assertIsAttribute(_2f7);return item[_2f7]||[];},getAttributes:function(item){this._assertIsItem(item);var _2f9=[];for(var key in item){if((key!==this._storeRefPropName)&&(key!==this._itemNumPropName)&&(key!==this._rootItemPropName)&&(key!==this._reverseRefMap)){_2f9.push(key);}}return _2f9;},hasAttribute:function(item,_2fc){return this.getValues(item,_2fc).length>0;},containsValue:function(item,_2fe,_2ff){var _300=undefined;if(typeof _2ff==="string"){_300=dojo.data.util.filter.patternToRegExp(_2ff,false);}return this._containsValue(item,_2fe,_2ff,_300);},_containsValue:function(item,_302,_303,_304){return dojo.some(this.getValues(item,_302),function(_305){if(_305!==null&&!dojo.isObject(_305)&&_304){if(_305.toString().match(_304)){return true;}}else{if(_303===_305){return true;}}});},isItem:function(_306){if(_306&&_306[this._storeRefPropName]===this){if(this._arrayOfAllItems[_306[this._itemNumPropName]]===_306){return true;}}return false;},isItemLoaded:function(_307){return this.isItem(_307);},loadItem:function(_308){this._assertIsItem(_308.item);},getFeatures:function(){return this._features;},getLabel:function(item){if(this._labelAttr&&this.isItem(item)){return this.getValue(item,this._labelAttr);}return undefined;},getLabelAttributes:function(item){if(this._labelAttr){return [this._labelAttr];}return null;},_fetchItems:function(_30b,_30c,_30d){var self=this;var _30f=function(_310,_311){var _312=[];if(_310.query){var _313=_310.queryOptions?_310.queryOptions.ignoreCase:false;var _314={};for(var key in _310.query){var _316=_310.query[key];if(typeof _316==="string"){_314[key]=dojo.data.util.filter.patternToRegExp(_316,_313);}}for(var i=0;i<_311.length;++i){var _318=true;var _319=_311[i];if(_319===null){_318=false;}else{for(var key in _310.query){var _316=_310.query[key];if(!self._containsValue(_319,key,_316,_314[key])){_318=false;}}}if(_318){_312.push(_319);}}_30c(_312,_310);}else{for(var i=0;i<_311.length;++i){var item=_311[i];if(item!==null){_312.push(item);}}_30c(_312,_310);}};if(this._loadFinished){_30f(_30b,this._getItemsArray(_30b.queryOptions));}else{if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_30b,filter:_30f});}else{this._loadInProgress=true;var _31b={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _31c=dojo.xhrGet(_31b);_31c.addCallback(function(data){try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;_30f(_30b,self._getItemsArray(_30b.queryOptions));self._handleQueuedFetches();}catch(e){self._loadFinished=true;self._loadInProgress=false;_30d(e,_30b);}});_31c.addErrback(function(_31e){self._loadInProgress=false;_30d(_31e,_30b);});}}else{if(this._jsonData){try{this._loadFinished=true;this._getItemsFromLoadedData(this._jsonData);this._jsonData=null;_30f(_30b,this._getItemsArray(_30b.queryOptions));}catch(e){_30d(e,_30b);}}else{_30d(new Error("dojo.data.ItemFileReadStore: No JSON source data was provided as either URL or a nested Javascript object."),_30b);}}}},_handleQueuedFetches:function(){if(this._queuedFetches.length>0){for(var i=0;i<this._queuedFetches.length;i++){var _320=this._queuedFetches[i];var _321=_320.args;var _322=_320.filter;if(_322){_322(_321,this._getItemsArray(_321.queryOptions));}else{this.fetchItemByIdentity(_321);}}this._queuedFetches=[];}},_getItemsArray:function(_323){if(_323&&_323.deep){return this._arrayOfAllItems;}return this._arrayOfTopLevelItems;},close:function(_324){},_getItemsFromLoadedData:function(_325){function valueIsAnItem(_326){var _327=((_326!=null)&&(typeof _326=="object")&&(!dojo.isArray(_326))&&(!dojo.isFunction(_326))&&(_326.constructor==Object)&&(typeof _326._reference=="undefined")&&(typeof _326._type=="undefined")&&(typeof _326._value=="undefined"));return _327;};var self=this;function addItemAndSubItemsToArrayOfAllItems(_329){self._arrayOfAllItems.push(_329);for(var _32a in _329){var _32b=_329[_32a];if(_32b){if(dojo.isArray(_32b)){var _32c=_32b;for(var k=0;k<_32c.length;++k){var _32e=_32c[k];if(valueIsAnItem(_32e)){addItemAndSubItemsToArrayOfAllItems(_32e);}}}else{if(valueIsAnItem(_32b)){addItemAndSubItemsToArrayOfAllItems(_32b);}}}}};this._labelAttr=_325.label;var i;var item;this._arrayOfAllItems=[];this._arrayOfTopLevelItems=_325.items;for(i=0;i<this._arrayOfTopLevelItems.length;++i){item=this._arrayOfTopLevelItems[i];addItemAndSubItemsToArrayOfAllItems(item);item[this._rootItemPropName]=true;}var _331={};var key;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){if(key!==this._rootItemPropName){var _333=item[key];if(_333!==null){if(!dojo.isArray(_333)){item[key]=[_333];}}else{item[key]=[null];}}_331[key]=key;}}while(_331[this._storeRefPropName]){this._storeRefPropName+="_";}while(_331[this._itemNumPropName]){this._itemNumPropName+="_";}while(_331[this._reverseRefMap]){this._reverseRefMap+="_";}var _334;var _335=_325.identifier;if(_335){this._itemsByIdentity={};this._features["dojo.data.api.Identity"]=_335;for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];_334=item[_335];var _336=_334[0];if(!this._itemsByIdentity[_336]){this._itemsByIdentity[_336]=item;}else{if(this._jsonFileUrl){throw new Error("dojo.data.ItemFileReadStore:  The json data as specified by: ["+this._jsonFileUrl+"] is malformed.  Items within the list have identifier: ["+_335+"].  Value collided: ["+_336+"]");}else{if(this._jsonData){throw new Error("dojo.data.ItemFileReadStore:  The json data provided by the creation arguments is malformed.  Items within the list have identifier: ["+_335+"].  Value collided: ["+_336+"]");}}}}}else{this._features["dojo.data.api.Identity"]=Number;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];item[this._storeRefPropName]=this;item[this._itemNumPropName]=i;}for(i=0;i<this._arrayOfAllItems.length;++i){item=this._arrayOfAllItems[i];for(key in item){_334=item[key];for(var j=0;j<_334.length;++j){_333=_334[j];if(_333!==null&&typeof _333=="object"){if(_333._type&&_333._value){var type=_333._type;var _339=this._datatypeMap[type];if(!_339){throw new Error("dojo.data.ItemFileReadStore: in the typeMap constructor arg, no object class was specified for the datatype '"+type+"'");}else{if(dojo.isFunction(_339)){_334[j]=new _339(_333._value);}else{if(dojo.isFunction(_339.deserialize)){_334[j]=_339.deserialize(_333._value);}else{throw new Error("dojo.data.ItemFileReadStore: Value provided in typeMap was neither a constructor, nor a an object with a deserialize function");}}}}if(_333._reference){var _33a=_333._reference;if(!dojo.isObject(_33a)){_334[j]=this._itemsByIdentity[_33a];}else{for(var k=0;k<this._arrayOfAllItems.length;++k){var _33c=this._arrayOfAllItems[k];var _33d=true;for(var _33e in _33a){if(_33c[_33e]!=_33a[_33e]){_33d=false;}}if(_33d){_334[j]=_33c;}}}if(this.referenceIntegrity){var _33f=_334[j];if(this.isItem(_33f)){this._addReferenceToMap(_33f,item,key);}}}else{if(this.isItem(_333)){if(this.referenceIntegrity){this._addReferenceToMap(_333,item,key);}}}}}}}},_addReferenceToMap:function(_340,_341,_342){},getIdentity:function(item){var _344=this._features["dojo.data.api.Identity"];if(_344===Number){return item[this._itemNumPropName];}else{var _345=item[_344];if(_345){return _345[0];}}return null;},fetchItemByIdentity:function(_346){if(!this._loadFinished){var self=this;if(this._jsonFileUrl){if(this._loadInProgress){this._queuedFetches.push({args:_346});}else{this._loadInProgress=true;var _348={url:self._jsonFileUrl,handleAs:"json-comment-optional"};var _349=dojo.xhrGet(_348);_349.addCallback(function(data){var _34b=_346.scope?_346.scope:dojo.global;try{self._getItemsFromLoadedData(data);self._loadFinished=true;self._loadInProgress=false;var item=self._getItemByIdentity(_346.identity);if(_346.onItem){_346.onItem.call(_34b,item);}self._handleQueuedFetches();}catch(error){self._loadInProgress=false;if(_346.onError){_346.onError.call(_34b,error);}}});_349.addErrback(function(_34d){self._loadInProgress=false;if(_346.onError){var _34e=_346.scope?_346.scope:dojo.global;_346.onError.call(_34e,_34d);}});}}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;var item=self._getItemByIdentity(_346.identity);if(_346.onItem){var _350=_346.scope?_346.scope:dojo.global;_346.onItem.call(_350,item);}}}}else{var item=this._getItemByIdentity(_346.identity);if(_346.onItem){var _350=_346.scope?_346.scope:dojo.global;_346.onItem.call(_350,item);}}},_getItemByIdentity:function(_351){var item=null;if(this._itemsByIdentity){item=this._itemsByIdentity[_351];}else{item=this._arrayOfAllItems[_351];}if(item===undefined){item=null;}return item;},getIdentityAttributes:function(item){var _354=this._features["dojo.data.api.Identity"];if(_354===Number){return null;}else{return [_354];}},_forceLoad:function(){var self=this;if(this._jsonFileUrl){var _356={url:self._jsonFileUrl,handleAs:"json-comment-optional",sync:true};var _357=dojo.xhrGet(_356);_357.addCallback(function(data){try{if(self._loadInProgress!==true&&!self._loadFinished){self._getItemsFromLoadedData(data);self._loadFinished=true;}}catch(e){console.log(e);throw e;}});_357.addErrback(function(_359){throw _359;});}else{if(this._jsonData){self._getItemsFromLoadedData(self._jsonData);self._jsonData=null;self._loadFinished=true;}}}});dojo.extend(dojo.data.ItemFileReadStore,dojo.data.util.simpleFetch);}
